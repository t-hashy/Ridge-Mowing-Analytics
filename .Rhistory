caption = "データ元：作物統計調査（農水省）"
) +
theme_minimal() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = value)) +
geom_polygon(linewidth = 1, colour = "#777777") +
coord_map() +
scale_fill_gradient(low = "#3333aa", high = "#aa3333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（本地に対するけい畔の広さ）",
subtitle = "（2022年度）",
caption = "データ元：作物統計調査（農水省）"
) +
theme_minimal() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = value)) +
geom_polygon(linewidth = 1, colour = "#aaaaaa") +
coord_map() +
scale_fill_gradient(low = "#3333aa", high = "#aa3333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（本地に対するけい畔の広さ）",
subtitle = "（2022年度）",
caption = "データ元：作物統計調査（農水省）"
) +
theme_minimal() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = value)) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa") +
coord_map() +
scale_fill_gradient(low = "#3333aa", high = "#aa3333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（本地に対するけい畔の広さ）",
subtitle = "（2022年度）",
caption = "データ元：作物統計調査（農水省）"
) +
theme_minimal() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = value)) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa") +
coord_map() +
scale_fill_gradient(low = "#3333aa", high = "#aa3333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（本地に対するけい畔の広さ）",
subtitle = "（2022年度）",
caption = "データ元：作物統計調査（農水省）"
) +
theme_minimal() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.text = element_text(face = "bold"),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = value)) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa") +
coord_map() +
scale_fill_gradient(low = "#3333aa", high = "#aa3333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（本地に対するけい畔の広さ）",
subtitle = "（2022年度）",
caption = "データ元：作物統計調査（農水省）"
) +
theme_minimal() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = value)) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa") +
coord_map() +
scale_fill_gradient(low = "#3333aa", high = "#aa3333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（本地に対するけい畔の広さ）",
subtitle = "（2022年度）",
caption = "データ元：作物統計調査（農水省）"
) +
theme_void() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = value)) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa") +
coord_map() +
scale_fill_gradient(low = "#3333aa", high = "#aa3333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（本地に対するけい畔の広さ）",
subtitle = "（2022年度）",
caption = "データ元：作物統計調査（農水省）"
) +
theme_bw() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = value)) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa") +
coord_map() +
scale_fill_gradient(low = "#3333aa", high = "#aa3333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（本地に対するけい畔の広さ）",
subtitle = "（2022年度）",
caption = "データ元：作物統計調査（農水省）"
) +
theme_void() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = value)) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa") +
coord_map() +
scale_fill_gradient(low = "#ffffff", high = "#333333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（本地に対するけい畔の広さ）",
subtitle = "（2022年度）",
caption = "データ元：作物統計調査（農水省）"
) +
theme_void() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Visualization
ggplot(data_areaFlow_gthrd |> filter(その他 == "増減率"), aes(x = 年次, y = value, lty = 用途, col = 区分)) +
geom_hline(yintercept = 1, colour = "#777777") +
geom_line(linewidth = 1.2) +
# geom_point(size = 2) +
scale_x_continuous(breaks = seq(from = 1965, to = 2022, by = 5)) +
scale_y_continuous(breaks = seq(from = 0, to = 1.5, by = .1)) +
scale_color_manual(values = c("#aaaaaa", "#333333")) +
facet_wrap(~田畑) +
labs(
title = "1965年を1とした時の耕地面積の増減",
caption = "作物統計調査（農林水産省）より橋本作成"
) +
theme_classic() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
axis.title.y = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = value)) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa") +
coord_map() +
scale_fill_gradient(low = "#ffffff", high = "#333333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（本地に対するけい畔の広さ）",
subtitle = "（2022年度）",
caption = "作物統計調査（農水省）より橋本作成"
) +
theme_void() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = value)) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa") +
coord_map() +
scale_fill_gradient(low = "#ffffff", high = "#333333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（2022年比較）",
subtitle = "※けい畔率：本地（作付けできる部分）に対するけい畔の広さ",
caption = "作物統計調査（農水省）より橋本作成",
legend = "けい畔率（本地に対するけい畔の広さ）"
) +
theme_void() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = value)) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa") +
coord_map() +
scale_fill_gradient(low = "#ffffff", high = "#333333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（2022年比較）",
subtitle = "※けい畔率：本地（作付けできる部分）に対するけい畔の広さ",
caption = "作物統計調査（農水省）より橋本作成",
label = "けい畔率（本地に対するけい畔の広さ）"
) +
theme_void() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = value)) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa") +
coord_map() +
scale_fill_gradient(low = "#ffffff", high = "#333333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（2022年比較）",
subtitle = "※けい畔率：本地（作付けできる部分）に対するけい畔の広さ",
caption = "作物統計調査（農水省）より橋本作成",
legend = "けい畔率（本地に対するけい畔の広さ）"
) +
theme_void() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = value)) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa", show.legend = F) +
coord_map() +
scale_fill_gradient(low = "#ffffff", high = "#333333") +
facet_wrap(~田畑, scales = "free") +
labs(
title = "都道府県別けい畔率（2022年比較）",
subtitle = "※けい畔率：本地（作付けできる部分）に対するけい畔の広さ",
caption = "作物統計調査（農水省）より橋本作成"
) +
theme_void() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = value)) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa", show.legend = F) +
coord_map() +
scale_fill_gradient(low = "#ffffff", high = "#333333") +
facet_wrap(~田畑, scales = "free-x") +
labs(
title = "都道府県別けい畔率（2022年比較）",
subtitle = "※けい畔率：本地（作付けできる部分）に対するけい畔の広さ",
caption = "作物統計調査（農水省）より橋本作成"
) +
theme_void() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = value)) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa", show.legend = F) +
coord_map() +
scale_fill_gradient(low = "#ffffff", high = "#333333") +
facet_wrap(~田畑, scales = "free_x") +
labs(
title = "都道府県別けい畔率（2022年比較）",
subtitle = "※けい畔率：本地（作付けできる部分）に対するけい畔の広さ",
caption = "作物統計調査（農水省）より橋本作成"
) +
theme_void() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = value)) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa", show.legend = F) +
coord_map() +
scale_fill_gradient(low = "#ffffff", high = "#333333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（2022年比較）",
subtitle = "※けい畔率：本地（作付けできる部分）に対するけい畔の広さ",
caption = "作物統計調査（農水省）より橋本作成"
) +
theme_void() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = log(value)) +
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = log(value)) ) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa", show.legend = F) +
coord_map() +
scale_fill_gradient(low = "#ffffff", high = "#333333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（2022年比較）",
subtitle = "※けい畔率：本地（作付けできる部分）に対するけい畔の広さ",
caption = "作物統計調査（農水省）より橋本作成"
) +
theme_void() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = log(value)) ) +
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = log(value)) ) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa", show.legend = F) +
coord_map() +
scale_fill_gradient(low = "#ffffff", high = "#333333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（2022年比較）",
subtitle = "※けい畔率：本地（作付けできる部分）に対するけい畔の広さ",
caption = "作物統計調査（農水省）より橋本作成"
) +
theme_void() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = log(value)) ) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa") +
coord_map() +
scale_fill_gradient(low = "#ffffff", high = "#333333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（2022年比較）",
subtitle = "※けい畔率：本地（作付けできる部分）に対するけい畔の広さ",
caption = "作物統計調査（農水省）より橋本作成"
) +
theme_void() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = exp(value)) ) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa") +
coord_map() +
scale_fill_gradient(low = "#ffffff", high = "#333333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（2022年比較）",
subtitle = "※けい畔率：本地（作付けできる部分）に対するけい畔の広さ",
caption = "作物統計調査（農水省）より橋本作成"
) +
theme_void() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = (value)) ) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa") +
coord_map() +
scale_fill_gradient(low = "#ffffff", high = "#333333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（2022年比較）",
subtitle = "※けい畔率：本地（作付けできる部分）に対するけい畔の広さ",
caption = "作物統計調査（農水省）より橋本作成"
) +
theme_void() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = value) ) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa") +
coord_map() +
scale_fill_gradient(low = "#ffffff", high = "#333333") +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（2022年比較）",
subtitle = "※けい畔率：本地（作付けできる部分）に対するけい畔の広さ",
caption = "作物統計調査（農水省）より橋本作成",
fill = "けい畔率"
) +
theme_void() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Visualize
ggplot(data_areaPref_2022, aes(x = long, y = lat, group = group, fill = value) ) +
geom_polygon(linewidth = 0.5, colour = "#aaaaaa") +
coord_map() +
scale_fill_gradient(low = "#ffffff", high = "#333333", labels = scales::percent) +
facet_wrap(~田畑) +
labs(
title = "都道府県別けい畔率（2022年比較）",
subtitle = "※けい畔率：本地（作付けできる部分）に対するけい畔の広さ",
caption = "作物統計調査（農水省）より橋本作成",
fill = "けい畔率"
) +
theme_void() +
theme(
plot.title = element_text(face = "bold", hjust = .5),
plot.subtitle = element_text(hjust = 1),
strip.background = element_rect(linewidth = 0.5),
axis.title = element_blank()
)
# Load necessary libraries
library(dplyr)
library(gridExtra)
install.packages("gridExtra")
# Load necessary libraries
library(dplyr)
library(gridExtra)
library(grid)
# Create sample data frame
df <- data.frame(
id = 1:20,
name = c("Alex", "Ben", "Cathy", "David", "Eliza", "Frank", "George", "Henry", "Irene", "Jack",
"Ken", "Liza", "Mona", "Nina", "Oscar", "Paul", "Quincy", "Rita", "Taka", "Uma"),
score = c(75, 85, 65, 95, 55, 80, 78, 62, 90, 81,
77, 93, 60, 87, 88, 74, 82, 69, 99, 68),
comment = rep("Good", 20)
)
# Filter for top 5, bottom 5, and the row with 'Taka' in the name
top_5 <- df %>% arrange(desc(score)) %>% head(5)
bottom_5 <- df %>% arrange(score) %>% head(5)
taka_row <- df %>% filter(grepl("taka", name, ignore.case = TRUE))
# Combine these rows
selected_rows <- bind_rows(top_5, taka_row, bottom_5)
# Sort selected rows by their original order
selected_rows <- selected_rows %>% arrange(id)
# Create a row showing the clipping between top and bottom rows
clipping_row <- data.frame(
id = NA,
name = "...",
score = NA,
comment = "..."
)
# Combine the final table (Top 5 + Taka's row + Clipping + Bottom 5)
final_table <- bind_rows(top_5, clipping_row, taka_row, clipping_row, bottom_5)
# Generate the table as a grob (graphical object) for output
table_grob <- tableGrob(final_table)
# Add dotted lines for clipped rows
for (i in which(is.na(final_table$id))) {
table_grob$grobs[[i]]$gp <- gpar(lty = "dotted", col = "black")
}
# Save the table as an image
png("filtered_table_output.png", width = 800, height = 400)
grid.draw(table_grob)
dev.off()
# Show the table in RStudio Viewer
grid.draw(table_grob)
head(data_areaPref_2022)
head(data_areaPref_gth)
